/*! @version 0.0.1-55d0bd1c86dd20165df3 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/+vE":function(e,t,n){var r=n("31g3")
"string"==typeof r&&(r=[[e.i,r,""]])
var a={hmr:!0,transform:void 0,insertInto:void 0}
n("aET+")(r,a)
r.locals&&(e.exports=r.locals)},"31g3":function(e,t,n){(t=e.exports=n("JPst")(!1)).i(n("ysJs"),""),t.push([e.i,".category-root-1dB {\n    padding: 1rem;\n}\n\n.category-title-2U5 {\n    font-size: 1.5rem;\n    font-weight: 400;\n    padding: 0 0.5rem;\n}\n\n.category-pagination-9c0 {\n    position: relative;\n    bottom: 0;\n}\n\n.category-placeholder-2xS {\n    height: 100vh;\n}\n\n.category-headerButtons-2x_ {\n    display: flex;\n    justify-content: center;\n    padding-bottom: 1.5rem;\n}\n\n.category-categoryTitle-1Ut {\n    color: rgb(var(--venia-global-color-text));\n    padding-bottom: 1rem;\n    font-size: 1.375rem;\n    font-weight: 300;\n    line-height: 1.375rem;\n    text-align: center;\n}\n\n.category-sortContainer-34B {\n    color: rgb(var(--venia-global-color-text-alt));\n    text-align: center;\n    font-size: 0.875rem;\n    padding-bottom: 1rem;\n}\n\n.category-sortText-2IS {\n    font-weight: 600;\n}\n\n.category-filterButton-3b9 {\n    min-width: 6.25rem;\n}\n",""]),t.locals={root:"category-root-1dB",title:"category-title-2U5",pagination:"category-pagination-9c0",placeholder:"category-placeholder-2xS",headerButtons:"category-headerButtons-2x_",categoryTitle:"category-categoryTitle-1Ut",sortContainer:"category-sortContainer-34B",sortText:"category-sortText-2IS",filterButton:"category-filterButton-3b9 "+n("ysJs").locals.root_lowPriority}},"9teu":function(e,t,n){"use strict"
n.r(t)
var r,a,o,c=n("q1tI"),i=n.n(c),s=n("17x9"),l=n("kriW"),u=n("lSNA"),g=n.n(u),d=n("J4zp"),m=n.n(d),y=n("Ty5D"),p=n("VX74"),f=n("y1Xp"),b=n("OlZo"),h=n("Cszt"),v=n("PKba"),P=n("Unmo"),E=n("+wQL"),_=n("VkAN"),O=n.n(_),j={getCategoryQuery:Object(p.gql)(r||(r=O()(["\n    query GetCategories(\n        $id: Int!\n        $pageSize: Int!\n        $currentPage: Int!\n        $filters: ProductAttributeFilterInput!\n        $sort: ProductAttributeSortInput\n    ) {\n        category(id: $id) {\n            id\n            description\n            name\n            product_count\n            meta_title\n            meta_keywords\n            meta_description\n        }\n        products(\n            pageSize: $pageSize\n            currentPage: $currentPage\n            filter: $filters\n            sort: $sort\n        ) {\n            items {\n                # id is always required, even if the fragment includes it.\n                id\n                # TODO: Once this issue is resolved we can use a\n                # GalleryItemFragment here:\n                # https://github.com/magento/magento2/issues/28584\n                name\n                price {\n                    regularPrice {\n                        amount {\n                            currency\n                            value\n                        }\n                    }\n                }\n                small_image {\n                    url\n                }\n                url_key\n                url_suffix\n            }\n            page_info {\n                total_pages\n            }\n            total_count\n        }\n    }\n"]))),getFilterInputsQuery:Object(p.gql)(a||(a=O()(['\n    query GetFilterInputsForCategory {\n        __type(name: "ProductAttributeFilterInput") {\n            inputFields {\n                name\n                type {\n                    name\n                }\n            }\n        }\n    }\n'])))},F=n("DUu4"),x={getProductFiltersByCategoryQuery:Object(p.gql)(o||(o=O()(["\n    query getProductFiltersByCategory(\n        $categoryIdFilter: FilterEqualTypeInput!\n    ) {\n        products(filter: { category_id: $categoryIdFilter }) {\n            aggregations {\n                label\n                count\n                attribute_code\n                options {\n                    label\n                    value\n                }\n            }\n        }\n    }\n"])))},C=n("Rpel"),I=n("ACyH"),w=n("vh/y"),S=n("UPvi"),z=n("C0us"),N=n("tuiD"),B=n("STDB"),T=n("/+vE"),k=n.n(T),q=n("dDsW"),D=n("KQw/"),M=n("55Ip"),Q=n("UqBt"),$=function isNonDefaultCategory(e){return Boolean(e.parentId)},A=n("OlhY"),J=n("u2JS"),L=n.n(J),U=n("ov9a"),V=n.n(U),W=function NoProductsFound(e){var t=e.categoryId,n=Object(f.a)(V.a,e.classes),r=Object(q.a)().formatMessage,a=function useNoProductsFound(e){var t=e.categoryId,n=Object(Q.b)(),r=m()(n,1)[0].categories
return{recommendedCategories:Object(c.useMemo)(function(){var e,n=Object.values(r).filter($).filter(function isNotSameCategory(e){return e.id!==t}),a=n.length
if(a<=3)e=n
else{var o=a-3+1,c=Math.floor(Math.random()*o),i=c+3
e=n.slice(c,i)}return e},[t,r])}}({categoryId:t}).recommendedCategories,o=Object(c.useMemo)(function(){return a.map(function(e){var t=Object(D.a)("/".concat(e.url_path).concat(e.url_suffix))
return i.a.createElement("li",{key:e.id,className:n.listItem},i.a.createElement(M.b,{to:t},e.name))})},[n,a]),s=r({id:"noProductsFound.noProductsFound",defaultMessage:"Sorry! We couldn't find any products."})
return i.a.createElement("div",{className:n.root},i.a.createElement(A.a,{alt:s,classes:{image:n.image,root:n.imageContainer},src:L.a}),i.a.createElement("h2",{className:n.title},s),i.a.createElement("div",{className:n.categories},i.a.createElement("p",null,i.a.createElement(l.a,{id:"noProductsFound.tryOneOfTheseCategories",defaultMessage:"Try one of these categories"})),i.a.createElement("ul",{className:n.list},o)))},R=W
W.propTypes={categoryId:s.number,classes:Object(s.shape)({root:s.string,title:s.string,list:s.string,categories:s.string,listItem:s.string,image:s.string,imageContainer:s.string})}
var G,H=i.a.lazy(function(){return Promise.all([n.e(0),n.e(3),n.e(40)]).then(n.bind(null,"dzHx"))}),X=function CategoryContent(e){var t=e.categoryId,n=e.data,r=e.pageControl,a=e.sortProps,o=e.pageSize,s=m()(a,1)[0],u=function useCategoryContent(e){var t=e.categoryId,n=e.data,r=e.pageSize,a=void 0===r?6:r,o=Object(f.a)(x,e.operations).getProductFiltersByCategoryQuery,i=Array.from({length:a}).fill(null),s=Object(c.useState)(!1),l=m()(s,2),u=l[0],g=l[1],d=Object(b.b)(),y=m()(d,2)[1].toggleDrawer,h=Object(c.useCallback)(function(){g(!0)},[g]),v=Object(c.useCallback)(function(){g(!0),y("filter")},[g,y]),P=Object(p.useLazyQuery)(o,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),E=m()(P,2),_=E[0],O=E[1].data
Object(c.useEffect)(function(){t&&_({variables:{categoryIdFilter:{eq:t}}})},[t,_])
var j=O?O.products.aggregations:null,F=n?n.products.items:i,C=n?n.products.page_info.total_pages:null,I=n?n.category.name:null
return{categoryName:I,categoryDescription:n?n.category.description:null,filters:j,handleLoadFilters:h,handleOpenFilters:v,items:F,loadFilters:u,pageTitle:I?"".concat(I," - ").concat("Venia"):"Venia",totalPagesFromData:C}}({categoryId:t,data:n,pageSize:o}),g=u.categoryName,d=u.categoryDescription,y=u.filters,h=u.handleLoadFilters,v=u.handleOpenFilters,P=u.items,E=u.pageTitle,_=u.totalPagesFromData,O=Object(f.a)(k.a,e.classes),j=y?i.a.createElement(I.a,{priority:"low",classes:{root_lowPriority:O.filterButton},onClick:v,onFocus:h,onMouseOver:h,type:"button"},i.a.createElement(l.a,{id:"categoryContent.filter",defaultMessage:"Filter"})):null,F=_&&y?i.a.createElement(N.a,{sortProps:a}):null,T=_&&y?i.a.createElement("div",{className:O.sortContainer},i.a.createElement(l.a,{id:"categoryContent.itemsSortedBy",defaultMessage:"Items sorted by "}),i.a.createElement("span",{className:O.sortText},i.a.createElement(l.a,{id:s.sortId,defaultMessage:s.sortText}))):null,q=y?i.a.createElement(H,{filters:y}):null,D=d?i.a.createElement(B.a,{html:d}):null,M=_?i.a.createElement(c.Fragment,null,i.a.createElement("section",{className:O.gallery},i.a.createElement(w.a,{items:P})),i.a.createElement("div",{className:O.pagination},i.a.createElement(z.a,{pageControl:r}))):i.a.createElement(R,{categoryId:t})
return i.a.createElement(c.Fragment,null,i.a.createElement(C.a,{categoryId:t}),i.a.createElement(S.b,null,E),i.a.createElement("article",{className:O.root},i.a.createElement("h1",{className:O.title},i.a.createElement("div",{className:O.categoryTitle},g)),D,i.a.createElement("div",{className:O.headerButtons},j,F),T,M,i.a.createElement(c.Suspense,{fallback:null},q)))},K=X
X.propTypes={classes:Object(s.shape)({filterContainer:s.string,sortContainer:s.string,gallery:s.string,headerButtons:s.string,filterButton:s.string,pagination:s.string,root:s.string,title:s.string}),sortProps:s.array,pageSize:s.number}
var Y=Object(p.gql)(G||(G=O()(["\n    query getPageSize {\n        storeConfig {\n            id\n            grid_per_page\n        }\n    }\n"]))),Z=function Category(e){var t=e.id,n=function useCategory(e){var t=e.id,n=e.queries.getPageSize,r=Object(f.a)(j,e.operations),a=r.getCategoryQuery,o=r.getFilterInputsQuery,i=Object(p.useQuery)(n,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}).data,s=i&&i.storeConfig.grid_per_page,l=Object(h.a)(),u=m()(l,2),d=u[0],_=u[1],O=d.currentPage,F=d.totalPages,x=_.setCurrentPage,C=_.setTotalPages,I=Object(P.a)(),w=m()(I,1)[0],S=Object(c.useRef)(w),z={currentPage:O,setPage:x,totalPages:F},N=Object(b.b)(),B=m()(N,2)[1].actions.setPageLoading,T=Object(p.useLazyQuery)(a,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),k=m()(T,2),q=k[0],D=k[1],M=D.called,Q=D.loading,$=D.error,A=D.data,J=Object(y.h)().search,L=!!A&&Q
Object(c.useEffect)(function(){B(L)},[L,B])
var U=Object(c.useRef)(J),V=Object(p.useQuery)(o,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),W=V.called,R=V.data,G=V.loading,H=Object(c.useMemo)(function(){var e=new Map
return R&&R.__type.inputFields.forEach(function(t){var n=t.name,r=t.type
e.set(n,r.name)}),e},[R])
Object(c.useEffect)(function(){if(H.size&&s){var e=Object(E.c)(J),n={}
e.forEach(function(e,t){n[t]=Object(E.b)(e,H.get(t))}),n.category_id={eq:String(t)},q({variables:{currentPage:Number(O),id:Number(t),filters:n,pageSize:Number(s),sort:g()({},w.sortAttribute,w.sortDirection)}})}},[O,w,H,t,s,q,J])
var X=A?A.products.page_info.total_pages:null
Object(c.useEffect)(function(){return C(X),function(){C(null)}},[C,X]),Object(c.useEffect)(function(){!$||Q||A||1===O||x(1)},[O,$,Q,x,A]),Object(c.useEffect)(function(){var e=new URLSearchParams(U.current),t=new URLSearchParams(J)
e.delete("page"),t.delete("page"),e.toString()===t.toString()&&S.current.sortAttribute.toString()===w.sortAttribute.toString()&&S.current.sortDirection.toString()===w.sortDirection.toString()||(x(1),U.current=J,S.current=w)},[w,U,J,x])
var K=Q&&!A?null:A,Y=A&&A.category&&A.category.meta_description?A.category.meta_description:"",Z=W&&!M||Q&&!A||G
return Object(v.a)(O),{error:$,categoryData:K,loading:Z,metaDescription:Y,pageControl:z,sortProps:I,pageSize:s}}({id:t,queries:{getPageSize:Y}}),r=n.error,a=n.metaDescription,o=n.loading,s=n.categoryData,u=n.pageControl,d=n.sortProps,_=n.pageSize,O=Object(f.a)(k.a,e.classes)
if(!s){if(o)return F.a
if(r&&1===u.currentPage)return i.a.createElement("div",null,i.a.createElement(l.a,{id:"category.dataFetchError",defaultMessage:"Data Fetch Error"}))}return i.a.createElement(c.Fragment,null,i.a.createElement(S.a,{name:"description",content:a}),i.a.createElement(K,{categoryId:t,classes:O,data:s,pageControl:u,sortProps:d,pageSize:_}))}
Z.propTypes={classes:Object(s.shape)({gallery:s.string,root:s.string,title:s.string}),id:s.number},Z.defaultProps={id:3}
var ee=Z
n.d(t,"default",function(){return ee})},Hgqs:function(e,t,n){var r=n("pBWi")
"string"==typeof r&&(r=[[e.i,r,""]])
var a={hmr:!0,transform:void 0,insertInto:void 0}
n("aET+")(r,a)
r.locals&&(e.exports=r.locals)},Rpel:function(e,t,n){"use strict"
var r,a=n("q1tI"),o=n.n(a),c=n("kriW"),i=n("17x9"),s=n("55Ip"),l=n("KQw/"),u=n("VX74"),g=n("y1Xp"),d=n("VkAN"),m=n.n(d),y={getBreadcrumbsQuery:Object(u.gql)(r||(r=m()(["\n    query GetBreadcrumbs($category_id: Int!) {\n        category(id: $category_id) {\n            breadcrumbs {\n                category_id\n                # We may not need level if `breadcrumbs` is sorted.\n                category_level\n                category_name\n                category_url_path\n            }\n            id\n            name\n            url_path\n            url_suffix\n        }\n    }\n"],["\n    query GetBreadcrumbs($category_id: Int!) {\n        category(id: $category_id) {\n            breadcrumbs {\n                category_id\n                # We may not need level if \\`breadcrumbs\\` is sorted.\n                category_level\n                category_name\n                category_url_path\n            }\n            id\n            name\n            url_path\n            url_suffix\n        }\n    }\n"])))},p=function sortCrumbs(e,t){return e.category_level>t.category_level},f=function getPath(e,t){return e?"/".concat(e).concat(t):"#"},b=n("Hgqs"),h=n.n(b),v=function Breadcrumbs(e){var t=Object(g.a)(h.a,e.classes),n=e.categoryId,r=e.currentProduct,i=function useBreadcrumbs(e){var t=e.categoryId,n=Object(g.a)(y,e.operations).getBreadcrumbsQuery,r=Object(u.useQuery)(n,{variables:{category_id:t},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),o=r.data,c=r.loading,i=r.error,s=o&&o.category.url_suffix||".html",l=Object(a.useMemo)(function(){if(!c&&o){var e=o.category.breadcrumbs
return e&&e.map(function(e){return{category_level:e.category_level,text:e.category_name,path:f(e.category_url_path,s)}}).sort(p)}},[s,o,c])
return{currentCategory:o&&o.category.name||"",currentCategoryPath:o&&"".concat(o.category.url_path).concat(s)||"#",isLoading:c,hasError:!!i,normalizedData:l||[]}}({categoryId:n}),d=i.currentCategory,m=i.currentCategoryPath,b=i.hasError,v=i.isLoading,P=i.normalizedData,E=Object(a.useMemo)(function(){return P.map(function(e){var n=e.text,r=e.path
return o.a.createElement(a.Fragment,{key:n},o.a.createElement("span",{className:t.divider},"/"),o.a.createElement(s.b,{className:t.link,to:Object(l.a)(r)},n))})},[t.divider,t.link,P])
if(v||b)return o.a.createElement("div",{className:t.root})
var _=r?o.a.createElement(s.b,{className:t.link,to:Object(l.a)(m)},d):o.a.createElement("span",{className:t.currentCategory},d),O=r?o.a.createElement(a.Fragment,null,o.a.createElement("span",{className:t.divider},"/"),o.a.createElement("span",{className:t.text},r)):null
return o.a.createElement("div",{className:t.root},o.a.createElement(s.b,{className:t.link,to:"/"},o.a.createElement(c.a,{id:"global.home",defaultMessage:"Home"})),E,o.a.createElement("span",{className:t.divider},"/"),_,O)}
t.a=v
v.propTypes={categoryId:i.number.isRequired,currentProduct:i.string}},ov9a:function(e,t,n){var r=n("zhPx")
"string"==typeof r&&(r=[[e.i,r,""]])
var a={hmr:!0,transform:void 0,insertInto:void 0}
n("aET+")(r,a)
r.locals&&(e.exports=r.locals)},pBWi:function(e,t,n){(t=e.exports=n("JPst")(!1)).push([e.i,".breadcrumbs-root-1VT {\n    margin-left: 1rem;\n    margin-top: 1rem;\n    font-size: 0.875rem;\n\n    /* Permanent height to prevent pop-in. */\n    height: 0.875rem;\n\n    /* Show ellipses when overflowing. */\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.breadcrumbs-text-1Es {\n    padding: 0.25rem;\n}\n\n.breadcrumbs-divider-34t {\n}\n\n.breadcrumbs-link-1aE {\n    text-decoration: underline;\n}\n\n.breadcrumbs-currentCategory-3l1 {\n}\n",""]),t.locals={root:"breadcrumbs-root-1VT",text:"breadcrumbs-text-1Es",divider:"breadcrumbs-divider-34t breadcrumbs-text-1Es",link:"breadcrumbs-link-1aE breadcrumbs-text-1Es",currentCategory:"breadcrumbs-currentCategory-3l1 breadcrumbs-text-1Es"}},u2JS:function(e,t,n){e.exports=n.p+"noProductsFound-e9n.png"},zhPx:function(e,t,n){(t=e.exports=n("JPst")(!1)).push([e.i,".noProductsFound-root-3gI {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    justify-content: center;\n}\n\n.noProductsFound-title-1vj {\n    font-size: 1rem;\n    font-weight: 600;\n    text-align: center;\n}\n\n.noProductsFound-categories-2Mj {\n    margin-top: 2rem;\n}\n\n.noProductsFound-list-b4o {\n    margin-top: 1rem;\n}\n\n.noProductsFound-listItem-3jz {\n    text-align: center;\n    text-decoration: underline;\n}\n\n.noProductsFound-listItem-3jz:not(:last-child) {\n    margin-bottom: 0.5rem;\n}\n\n.noProductsFound-imageContainer-277 {\n    margin-bottom: 2rem;\n}\n\n.noProductsFound-image-3mz {\n    height: 200px;\n    width: 200px;\n    max-width: 200px;\n}\n",""]),t.locals={root:"noProductsFound-root-3gI",title:"noProductsFound-title-1vj",categories:"noProductsFound-categories-2Mj",list:"noProductsFound-list-b4o",listItem:"noProductsFound-listItem-3jz",imageContainer:"noProductsFound-imageContainer-277",image:"noProductsFound-image-3mz"}}}])
